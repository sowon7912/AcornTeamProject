<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="MainSql">
	<select id="selectPhotoList" resultType="mainCommunityVO">
		<![CDATA[
		SELECT A.PHOTO_SEQ_NO AS photoSeqNo
		     , A.PHOTO_IMAGE AS photoImage
		     , A.MEMBER_NICKNAME AS memberNickname
		     , A.MEMBER_IMAGE AS memberImage
		FROM (
		    SELECT P.PHOTO_SEQ_NO
			     , P.PHOTO_IMAGE
			     , M.MEMBER_NICKNAME
			     , M.MEMBER_IMAGE
			  FROM PHOTO P, MEMBER M
			 WHERE P.MEMBER_NO = M.MEMBER_NO 
			 ORDER BY P.PHOTO_HITS ASC
		) A
		WHERE ROWNUM < 9
		]]>
	</select>
</mapper>

